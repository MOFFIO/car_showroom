{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}
<title>Start page</title>
{% endblock %}

{% block script %}
<script type="text/javascript" src="{% static 'cars_project/js/jquery.tablesorter.js' %}"></script>
<script type="text/javascript">
    $(document).ready(function() {
    $("#sort_table").tablesorter({sortList: [[0,0]]});
    });
</script>
{% endblock %}

{% block body %}
    <header>
        <h1>Car info site</h1>
    </header>
    {% if car_list %}
        <table id="sort_table" cellpadding="7" border="2" width="100%">
            <caption>Car list table</caption>
            <thead>
                <tr>
                    <th>UID </th>
                    <th>BRAND</th>
                    <th>PRICE</th>
                    <th>PAINT</th>
                    <th>TIRES</th>
                    <th>TRIM</th>
                    <th>SOLD</th>
                </tr>
            </thead>
            <tbody>
                {% for car in car_list %}
                    <tr>
                    <td><a href="{% url 'car_detail' car_id=car.id %}" >{{ car.uid }}</a></td>
                    <td>{{ car.brand }}</td>
                    <td>{{ car.price }}</td>
                    <td>{{ car.attributes.paint }}</td>
                    <td>{{ car.attributes.tires }}</td>
                    <td>{{ car.attributes.trim }}</td>
                    <td>{{ car.sold }}</td>
                    </tr>
                {% endfor %}
            </tbody>
    {% else %}
        <div class="empty-db-message">
            <font class="error-style" > No records in database </font>
        </div>
    {% endif %}
    {% load staticfiles %}

        </table>
        <form action="{% url 'car_form' %}">
            <button type="submit">Create car</button>
        </form>

{% endblock %}


